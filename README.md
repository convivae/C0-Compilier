# C0-Compilier
## 使用说明

指导书中要求的接口均已实现：

```
Usage:
  cc0 [options] input [-o file]
or 
  cc0 [-h]
Options:
  -s        将输入的 c0 源代码翻译为文本汇编文件（.c0-->.s）
  -c        将输入的 c0 源代码翻译为二进制目标文件（.c0-->.o）
  -h        显示关于编译器使用的帮助
  -o file   输出到指定的文件 file

不提供任何参数时，默认为 -h
提供 input 不提供 -o file 时，默认为 -o out
```

另外，还提供的接口有：

```
-t              仅进行词法分析
-a              将输入的文本汇编文件翻译为二进制目标文件(.s-->.o)
-r              执行输入的二进制目标文件
-d              将输入的二进制目标文件进行反汇编
```

- 未初始化的非`const`变量，在栈上为其分配内存空间，初始值不确定

## 注意的问题

根据第一周的检查情况，有小半编译器存在以下不太合理的情况：

- 可选参数与规范不同，使得本应是自动的评测脚本被迫变为半自动
- 编译器遇到编译错误时依然 return 0，或未将错误信息置于标准错误流
- 无视编译器应当具有的最基本的报错能力，
- 无视编译器的鲁棒性，放任各种 exception 炸程序
- 在 release 版本通过标准输出流打印各种中间结果

这些不规范不仅给当前的半人力评测带来了极大的阻碍，也不与今后推进自动化评测的方向不符

考虑到课程在上面提及的一些地方并没有提出对应的要求，建议在本学期结束后对编译器的功能接口、返回行为与错误报告进行基本的约束，对使用不同语言编写的得到的可执行程序形式不同的编译器在运行方式上进行约束。

同时要注意可选参数和位置参数的普遍约定，相关issue： [#9](https://github.com/BUAA-SE-Compiling/c0-handbook/issues/9)

